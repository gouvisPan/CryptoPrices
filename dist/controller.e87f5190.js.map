{"version":3,"sources":["src/js/config.js","src/js/helpers.js","src/js/model.js","src/js/views/view.js","src/js/views/cryptoListView.js","src/js/views/detailView.js","src/js/views/paginationView.js","src/js/views/searchView.js","src/js/controller.js"],"names":["API_100_LARGEST_URL","API_BASE_URL","RESULTS_PER_PAGE","getJSON","url","console","log","fetch","res","json","data","ok","Error","message","status","filterCryptos","array","currency","myCryptos","filter","crypto","CRYPTOS_OF_INTEREST","some","symbol","slice","length","state","search","cryptoInfo","resultsPerPage","currentPage","activeCoin","favorites","fetchCryptoInfo","map","coin","id","marketCap","market_cap","img","image","name","price","current_price","priceChangePerc","price_change_percentage_24h","volume24h","total_volume","rank","market_cap_rank","circulatingSupply","circulating_supply","totalSupply","max_supply","ath","fromAthPerc","ath_change_percentage","loadCoinDetails","find","getCryptoPage","page","first","last","searchCrypto","query","market_data","usd","large","bookmark","addFavorite","push","i","findIndex","el","splice","View","Array","isArray","renderError","_data","markup","_generateMarkup","_clear","_parentEl","insertAdjacentHTML","innerHTML","_errorMessage","icons","CryptoListView","document","querySelector","d","toUpperCase","join","DetailView","handler","forEach","ev","window","addEventListener","e","btn","target","closest","classList","add","percClass","largeNumFormater","Intl","NumberFormat","style","minimumFractionDigits","favicon","format","toFixed","PaginationView","dataset","goto","goToPage","curPage","totalPages","Math","ceil","SearchView","input","_parentElement","value","_clearInput","preventDefault","controlList","cryptoListView","renderSpinner","model","render","paginationView","detailView","controlDetails","location","hash","controlSearch","searchView","getQuery","controlFavorite","init","addHandlerDetails","addHandlerAddFavorite","addHandlerPageChange","addHandlerSearch"],"mappings":";;AQAA;;AACA;;ARDO,AQEP,IRFaA,mBAAmB,GAC9B,0FADK;ACAP,ACAA,AEAA,ACAA,ACAA,AHAA;AHEO,AQCP,IRDaC,YAAY,GAAG,mCAArB;AEDP,AGAA;ALEO,AQCP,IRDaC,gBAAgB,GAAG,EAAzB,EAEP;AACA,+CCLA;;+CCAA;;IKDMyH;;ANEC,IAAMxH,OAAO;EAAA,sEAAG,iBAAgBC,GAAhB;ACChB,IDDgB,ACCVsB,ACDQiD,KDCH,GAAG,gCKFFc,QAAQ,CAACC,aAAT,CAAuB,SAAvB;ELGjB/D,EDFqB,ICEf,EAAE,qCMHV;INIIC,EDHmB,QCGT,EAAE,EADN;IAENC,IDJmB,UCIL,EAAE3B,wBAFV;IAGN4B,MDLmB,KCKR,EAAE;EAHP,CADW,QKAnB,CNDqB,mBMCV;ELMXC,IKLE,IAAM6F,ENANvH,ACKQ,EAAE,CKLC,CLDM,EKCH,CNAP,CAACC,GAAR,AMAmBuH,CNAPzH,GAAZ,UMAc,CAAoBsF,aAApB,CAAkC,gBAAlC,EAAoDoC,KAAlE;ACEJ,ENIE9F,SAAS,CDRY,CCQV;AMHb,ANJqB,CAAd,KKEH,KAAK+F,CNHc,OAGDxH,GMAlB,ENAuB,CAACH,GAAD,CAHJ;AOMvB,WLHE,gBAAOM,IAAP,EAAa;AKIf,MDHI,AJAA,IFJmB,AEIf,CAACA,EIAEkH,EJAH,GIAJ,CJAchD,KAAK,CAACC,OAAN,CAAcnE,IAAd,KAAuBA,IAAI,CAACe,MAAL,KAAgB,CAArD,EACE,OAAO,KAAKqD,WAAL,EAAP;AKGN,ANGO,IAAM7C,AKNV,EJEC,KAAK8C,CFJCvE,GAHa,CEOnB,GDIwB,ACJXE,IAAb;AKEJ,ENE4B,UDXL,4DCWQ;AMD/B,INC+B,ECH3B,IAAMsE,EFRa,IEQP,GFJOxE,AEIJ,GFJO,CAACC,CEIHwE,GFJD,EAJA,UEQJ,EAAf;AKIJ,IAAMgD,ANDyB,OKJ7B,ICKe,sBDLElC,OAAjB,EAA0B;ECKX,INDc,AKH3B,AJCA,IFTmB,CMQd8B,AJCA3C,MAAL,QIDA,CAAoBiB,gBAApB,CAAqC,QAArC,EAA+C,UAAUC,CAAV,EAAa,MCI5C;IAAA,AJZdZ,AEAA2B,IJWyB,AKFzBf,CAAC,CAAC4B,ENLEtH,IAJa,QMSjB;MCGc,ALFhB,EIAEqF,ELCyB,CCDtBZ,IIAI,KJAT,CAAeC,kBAAf,CAAkC,YAAlC,EAAgDJ,MAAhD;IETEc,AFUH,EIAE,CAHD,CCIgB,IPZG,ACWQ,IDLtBtF,GAAG,CAACG,EANU;IMYpB,MCAiB,ENDW,EDXR;YOYH,ANDW,EDXR,KCaA,IAAAR,gBAAA,YAAWF,oBAAX,SAA0BD,2BAA1B,EAFQ;WCC7B,CFZqB,iBEYZ;MACP,IDF2B,CKG7B,AJDOmF,CKCL+C,QLDA,CAAe7C,SAAf,GAA2B,CICf,CCAZ,ALDA,CKCe8C,aAAf;ILAD,EICC,KAAKN,CNfc,ACabnH,IAFqB,EDLR,IAAIE,GMSvB,CAAoB8E,CNTD,WAAahF,CMShC,CAAkC,ENTE,CAACG,OAAlB,MMSnB,EAAoDiH,KAApD,ENTiDtH,CMSW,ENTR,AMSpD,CNTqDM,MAAlC,OANA;IMgBpB,QCJiB,ANGhBY,KAAK,CAACC,MAAN,CAAaC,UAAb,GAA0BlB,IAAI,CAACwB,GAAL,CAAS,UAACC,IAAD;UDfhB,EOYH,ENGmB,KMC7BiG,ENDwC,GMCnC,CAACnG,eAAN,EAJU;WLIlB,CFhBqB,ICgBjBG,EAAE,EAAED,IAAI,CAACC,EADmC,OCClC,WFRL1B,IARY;MEiBnB,IKLgB,ALKVsE,MDAJzD,ACAU,MDAJ,EAAEY,IAAI,CAACZ,MAF+B,0CCGvB,KAAK+D,aADhB,qCAAZ;UFjBmB,EOkBnB4C,INAE7F,SAAS,EAAEF,IAAI,CAACG,GMAlB,CAAe+F,MAAf,ANH8C,CMGxBD,KAAK,CAACzE,aAAN,EAAtB;MLGA,KAAKuB,CFrBc,ICmBjB3C,CCEF,EDFK,EAAEJ,IAAI,CAACK,KAJkC;YMI9C8F,APnBmB,GMmBR,CLCT7F,GKDakF,CLCT,EAAExF,IAAI,CAACM,EKDF,ELJmC,IMI9C,CAAe4F,MAAf,CAAsBD,KAAK,CAAC1G,KAAN,CAAYC,MAAlC;MLGA,KAAKwD,CFtBc,ICqBjBzC,ICCF,CDDO,ACCQ0C,EDDNjD,IAAI,CAACQ,WCCd,CAAkC,CDPY,WCO9C,EAAgDqC,MAAhD;IACD,QKFC3E,INCEuC,GMDK,CAACtC,GAAR,CAAY8H,KAAK,CAAC1G,CNCD,EAAES,EMDP,CAAYJ,CNCD,CAACc,QMDxB,kBJpBU4C,AEAAA,CJcoC,OEd5B,AEAA,CFACC,AEAAA,aFAT,AEAA,CFAuB,AEAA,UFAvB,GEAA;ULDS,MCuBjB5C,SAAS,EAAEX,IAAI,CAACY,YAR4B;UDf3B,EOsBnBwF,INEEvF,IAAI,EAAEb,IAAI,CAACc,IMFb,CAAWoF,MAAX,CAAkBD,GNP4B,EMOvB,CAAC1G,KAAN,CAAYK,UAA9B,GHpBU0D,IDCV,ICDkB,CAACC,aAAT,CAAuB,UAAvB;WFuBZ,CFzBqB,ICyBjBxC,iBAAiB,EAAEf,CCAP,GDAW,CAACgB,kBAVoB;MCW9C,EF1BmB,EE0Bb6B,EKdU,INcd5B,ACAU,WDAC,EAAEjB,IAAI,CAACkB,UAX0B,wBGZhC,6CFyBekC,cAFjB,kFAAZ;MF1BmB,MOYH,INedjC,GAAG,EAAEnB,IAAI,CAACmB,GAZkC;IDf3B,EEgCnB,KAAK4B,KDJH3B,CCIF,UDJa,EAAEpB,IAAI,CAACqB;ED5BD,CAAH,OOYA,CFTlB,GJYgD,CAAX,0BIZhBuC,OAArB,EAA8B;MAC5B,AH6BA,KG7BKZ,AH6BAA,CKrBW,ANGmB,CAAT,CAA1B,MIXA,AH6BA,CG7BegB,AH6BAf,gBG7Bf,CAAgC,CH6BhC,CAAkC,KG7BlC,EAAyC,KH6BzC,EAAgDJ,GG7BNoB,CAAD,EAAO,AH6BhD;EFjCgB,EEkCjB,IG7BG,GFAJ,CIOkB,ANkBhB1E,AIzBQ2E,GAAG,EJyBN,CD9BIlG,AC8BH4B,AIzBQqE,CAAC,CAACE,KLLA,CKKF,CAASC,CJyBvB,GAAmB7E,GIzBL,CAAiB,CJyBP,CAACC,CEzBT,KFyBG,CAAaC,KIzBlB,CAAZ,IJyBiB,CAAwB,CAAxB,CAAnB;ID9BgB,EGMhB,EECE,IEiBFvB,ANb2B,AIJrB,CFDC,AECAgG,GAAL,EAAU,CEiBL,CAAC/F,GAAR,kSJNE,KAAKyE,KAAL,CACG7C,GADH,CACO,UAACyD,CAAD,EAAO;EHnBA,MGoBV,AEXJtF,GDJJ,CHM6B,GIFlB,CAACC,GAAR,CAAY+F,GAAZ,aDJY3F,IAAhB,EAAsB,sEDgBsCiF,CAAC,CAACvD,EADtD,8FAG6BuD,CAAC,CAAC3C,IAH/B,8GAKmC2C,CAAC,CAACpD,GALrC,2DAM8BoD,CAAC,CAAClD,IANhC,+DAOiCkD,CAAC,CAACpE,MAAF,CAASqE,WAAT,EAPjC,8EAS6BD,CAAC,CAACjD,KAT/B;AHpBU,GAAb,GGkCE,AC5BLrC,CDYE,CERAA,CFyBGwF,CIvBW,GJMd,ACZK,CD6BG,AC7BFvF,CCIC,CFQP,AERQA,CFJH,ACAP,CAAYI,CD8BVmF,AE1BA,CAAYQ,EDJd,CDAO,AEIU,CF0BV,AE1BWe,EFJX,CAAP,IEIc,CAAYC,IAAxB;IF2BH,EC9BC,ECIE,EECc,ANDW,CGJtBtC,CCIGuC,IDJR,GAAa5G,CCIG,GDJhB,ACImB,CAAC2F,GAAG,CAACe,OAAJ,CAAYC,IAA9B;IDHH,ICKGtB,IEDc,ANDW,GIElB,CAACuB,QAAD,CAAP;MACD,CAVD,CEQgB,INDW;ADGxB,IAAMvG,AKCV,EEHiB,MNoBhBV,KDlBsB,ECkBf,CDlBkB,ACkBjBC,GAAR,MDlBSS,aAAgB,CAAUC,KAAV,EAAiBC,QAAjB,EAA2B;EACtD,AGf2B0D,EIYT,EPGZzD,KILN,CHC6B,GDId,GAAGF,AGwBpB,KHxByB,CAACG,MAAN,CAAa,OILb4E,GJKc3E,IILhC,EJK+B,AILJ;EGET,CAAH,CPGgB,EIJ7B,CAAC,IJKDC,QILA,EAAe,MAAf,EAAuB2E,OAAvB,CAA+B,CJK/B,CAAoB1E,IAApB,CACE,GIN8B2E,EAAD,KJM5B1E,MAAD;MAAA,EIN6B,EHAJ,CIM7B,ELCMA,EINF2E,IJMQ,EINF,CAACC,EJMM/E,MAAM,CAACG,MAAP,CAAcC,AIN3B,ACKc,CDLUyE,EAAxB,EJMa,AINeF,CJMK,CAApB,EAAuB,CAAvB,CAAX,CINF,CAD6B,EJQ3B3E,MAAM,CAACG,MAAP,CAAcC,KAAd,CAAoB,CAACP,QAAQ,CAACQ,MAA9B,MAA0CR,QAD1C,IAEAG,MAAM,CAACG,MAAP,CAAcE,MAAd,GAAuB,CAHzB;EOLW,EPKX,CADF,CAD6B,AIJE,ACO/B,CDPA,GHA2B,AIOrB8F,KFsBK,EEtBE,CENXU,CJ4BazC,CEtBC,KAAKT,IENR,CFMG,CAAWjD,EFsBhB,SEtBX;ELH6B,CAAb,COHH,APGf,AIDC,ECKC,IAAM0F,EJRqB,QIQX,GAAGC,IAAI,CAACC,IAAL,CACjB,KAAK3C,KAAL,CAAWnD,UAAX,CAAsBH,MAAtB,GAA+B,KAAKsD,KAAL,CAAWlD,cADzB,CAAnB;EEPa,APYf,IKFExB,EJX2B,CDatBa,IKFE,CAACZ,GAAR,CLEF,AKFciH,OAAZ;AEVa,APahB,CAXM,EOFP,GND+B,AIY3BlH,OAAO,CAACC,GAAR,CAAYkH,UAAZ;IJZ2B,EIa3B,IAAID,CDRN,MCQa,KAAK,CAAZ,IAAiBC,UAAU,GAAG,CAAlC,CDRoBzB,CCSlB,MDTJ,EAA+B,mCCW3BwB,OAAO,GAAG,CAFV,8EAIWA,OAAO,GAAG,CAJrB;AEGN,ENjB+B,CAAH,CMiBtBiB,EHXF,ACiBA,IAAIhB,CDjBCrC,OGWW,EHXhB,ACiBc,CENK,AHXJgB,ECiBE,CAAb,IAAkBoB,EENpBiB,KFM2B,EDjB7B,CAAgC,ECiBEhB,IENf,CHXnB,EGW+B,AHXU,GCiBzC,EACE,KDlBuCpB,CAAC,EAAG,mCCoB3CmB,OAAO,GAAG,CAFV,qFAIkBA,OAAO,GAAG,CAJ5B;EENJ,IAAMnF,AFcJ,EEdM,AHXJ,ECyBEmF,CEdKrB,CHXDG,GAAG,EGWI,AFcJ,CEdKoC,AHXFrC,CAAC,CAACE,ACyBFkB,MEdL,AHXK,CGWWkB,AHXFnC,GCyBvB,CEdS,CAAqB/E,AFe5B,ED1BY,CAAiB,EGWtB,CAA2B,CAA3B,CAAX,KHXgB,CAAZ,iCC4BI+F,OAAO,GAAG,CAFd,iGAKmBA,OAAO,GAAG,CAL7B,2EASMA,OAAO,GAAG,CAThB,sFAWmBA,OAAO,GAAG,CAX7B;EEbJa,ANpB0B,IIiDxB,CE7BG,CAAC3E,AHXF,IAAG,CAAC4C,GAAJ,EHTOpE,AGSE,KGWb,CAAsBG,EAAtB,ONpB0B;IAAA,AIkDzB,IDvCG/B,OAAO,CAACC,GAAR,CAAY+F,GAAZ;EGUJkC,ANrB0B,MGYtBlC,GAAG,CAACG,S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","file":"controller.e87f5190.js","sourceRoot":"..","sourcesContent":["export const API_100_LARGEST_URL =\r\n  \"coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=false'\";\r\nexport const API_BASE_URL = \"https://api.coingecko.com/api/v3/\";\r\nexport const RESULTS_PER_PAGE = 10;\r\n\r\n// export const API_BASE_URL = \"https://api.binance.com\";\r\n// export const API_AVG_PRICE_URL = \"/api/v3/ticker/24hr\";\r\n","import { CRYPTOS_OF_INTEREST } from \"./config\";\r\n\r\nexport const getJSON = async function (url) {\r\n  try {\r\n    console.log(url);\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const filterCryptos = function (array, currency) {\r\n  const myCryptos = array.filter((crypto) =>\r\n    CRYPTOS_OF_INTEREST.some(\r\n      (symbol) =>\r\n        symbol === crypto.symbol.slice(0, 3) &&\r\n        crypto.symbol.slice(-currency.length) === currency &&\r\n        crypto.symbol.length < 8\r\n    )\r\n  );\r\n\r\n  return myCryptos;\r\n};\r\n","import { getJSON } from \"../js/helpers\";\r\nimport { API_BASE_URL, API_100_LARGEST_URL, RESULTS_PER_PAGE } from \"./config\";\r\n\r\nexport const state = {\r\n  search: {\r\n    cryptoInfo: [],\r\n    resultsPerPage: RESULTS_PER_PAGE,\r\n    currentPage: 1,\r\n  },\r\n  activeCoin: {},\r\n  favorites: []\r\n};\r\n\r\nexport const fetchCryptoInfo = async function () {\r\n  try {\r\n    const data = await getJSON(`${API_BASE_URL}${API_100_LARGEST_URL}`);\r\n\r\n    state.search.cryptoInfo = data.map((coin) => ({\r\n      id: coin.id,\r\n      symbol: coin.symbol,\r\n      marketCap: coin.market_cap,\r\n      img: coin.image,\r\n      name: coin.name,\r\n      price: coin.current_price,\r\n      priceChangePerc: coin.price_change_percentage_24h,\r\n      volume24h: coin.total_volume,\r\n      rank: coin.market_cap_rank,\r\n      circulatingSupply: coin.circulating_supply,\r\n      totalSupply: coin.max_supply,\r\n      ath: coin.ath,\r\n      fromAthPerc: coin.ath_change_percentage,\r\n    }));\r\n    state.activeCoin = state.search.cryptoInfo[0];\r\n  } catch (err) {\r\n    console.log(err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const loadCoinDetails = function (id) {\r\n  this.state.activeCoin = this.state.search.cryptoInfo.find(\r\n    (coin) => coin.id === id\r\n  );\r\n\r\n \r\n};\r\n\r\nexport const getCryptoPage = function (page = state.search.currentPage) {\r\n  state.search.currentPage = page;\r\n\r\n  const first = (page - 1) * state.search.resultsPerPage;\r\n  const last = page * state.search.resultsPerPage;\r\n\r\n  return state.search.cryptoInfo.slice(first, last);\r\n};\r\n\r\nexport const searchCrypto = async function (query) {\r\n  try {\r\n    const coin = await getJSON(`${API_BASE_URL}coins/${query}`);\r\n  \r\n    state.activeCoin = {\r\n      id: coin.id,\r\n      symbol: coin.symbol,\r\n      marketCap: coin.market_data.market_cap.usd,\r\n      img: coin.image.large,\r\n      name: coin.name,\r\n      price: coin.market_data.current_price.usd,\r\n      priceChangePerc: coin.market_data.price_change_percentage_24h,\r\n      volume24h: coin.market_data.total_volume.usd,\r\n      rank: coin.market_cap_rank,\r\n      circulatingSupply: coin.market_data.circulating_supply,\r\n      totalSupply: coin.market_data.max_supply,\r\n      ath: coin.market_data.ath.usd,\r\n      fromAthPerc: coin.market_data.ath_change_percentage.usd,\r\n      bookmark: false\r\n    };\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n    throw err;\r\n  }\r\n\r\n\r\n\r\n};\r\n\r\nexport const addFavorite = function(){\r\n  \r\n  if(!state.activeCoin.bookmark)  state.favorites.push(state.activeCoin);\r\n\r\n  if(state.activeCoin.bookmark) {\r\n      const i = state.favorites.findIndex(el => el.id === state.activeCoin.id)\r\n      state.favorites.splice(i,1);\r\n  }\r\n\r\n\r\n  state.activeCoin.bookmark = !state.activeCoin.bookmark\r\n\r\n}","import icons from \"../../img/icons.svg\";\r\n\r\nexport default class View {\r\n  _data;\r\n\r\n  render(data) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n\r\n    this._data = data;\r\n    const markup = this._generateMarkup();\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n  _clear() {\r\n    this._parentEl.innerHTML = \"\";\r\n  }\r\n\r\n  renderError() {\r\n    const markup = `<div class=\"error\">\r\n                      <p>${this._errorMessage}</p>\r\n                    </div>`;\r\n\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n\r\n  renderSpinner() {\r\n    const markup = `<div class=\"spinner\">\r\n                    <svg>\r\n                    <use href=\"${icons}#icon-loader\"></use>\r\n                    </svg>\r\n                    </div>`;\r\n\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n}\r\n","import View from \"./view\";\r\n\r\nclass CryptoListView extends View {\r\n  _parentEl = document.querySelector(\".results\");\r\n  _errorMessage =\r\n    \"Could not match any coin/token to your search... Please try with a different query!\";\r\n\r\n  _generateMarkup() {\r\n    return [\r\n      `<li class=\"preview\">\r\n    <div class=\"preview__data\">\r\n        <div class=\"preview__rank \">Rank</div>\r\n      \r\n        <h4 class=\"preview__name preview__head-coin\">Coin/Token</h4>\r\n       \r\n        <p class=\"preview__price preview__head-price\">Price</p>\r\n\r\n    </div>\r\n    </a>\r\n </li>`,\r\n      this._data\r\n        .map((d) => {\r\n          return `<li class=\"preview\">\r\n      <a class=\"preview__link preview__link--active\" href=\"#${d.id}\">\r\n      <div class=\"preview__data\">\r\n          <div class=\"preview__rank\">${d.rank}</div>\r\n          <div class=\"preview__title\"> \r\n            <img class=\"preview__img\" src=\"${d.img}\"/>\r\n            <h4 class=\"preview__name\">${d.name}</h4>\r\n            <h2 class=\"preview__symbol\">(${d.symbol.toUpperCase()})</h2>\r\n          </div>\r\n          <p class=\"preview__price\">$${d.price}</p>\r\n\r\n      </div>\r\n      </a>\r\n   </li>`;\r\n        })\r\n        .join(\"\"),\r\n    ].join(\"\");\r\n  }\r\n}\r\n// <img src=./node_modules/cryptocurrency-icons/svg/white/aave.svg/>${d.symbol.toLowerCase()}\"/>\r\nexport default new CryptoListView();\r\n","import View from \"./view\";\r\nimport favicon from \"../../img/coinStar.png\"\r\n\r\nclass DetailView extends View {\r\n  _parentEl = document.querySelector(\".details\");\r\n  _errorMessage = \"Did not find details for this item :(\";\r\n\r\n  loadCoinDetails(data) {\r\n    console.log(data);\r\n    this._data = data;\r\n  }\r\n\r\n  addHandlerDetails(handler) {\r\n    [\"hashchange\", \"load\"].forEach((ev) =>\r\n      window.addEventListener(ev, handler)\r\n    );\r\n  }\r\n\r\n  addHandlerAddFavorite(handler) {\r\n    this._parentEl.addEventListener(\"click\", e =>{\r\n      const btn = e.target.closest('.btn-fav')\r\n\r\n      if(!btn) return\r\n\r\n      console.log(btn);\r\n      btn.classList.add(\"bounce\")\r\n      handler();\r\n    })\r\n  }\r\n\r\n\r\n  _generateMarkup() {\r\n    const percClass = this._data.priceChangePerc > 0 ? \"--g\" : \"--r\";\r\n\r\n    const largeNumFormater = new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n      minimumFractionDigits: 0,\r\n    });\r\n\r\n    return `\r\n    <div class=\"crypto-details__top\">\r\n        <div class=\"crypto-details__top__header\">\r\n        <img src=\"${this._data.img}\" class=\"crypto-details__top__header__img\"/>\r\n        <span class=\"crypto-details__top__header__name\">${\r\n          this._data.name\r\n        } </span>\r\n        <span class=\"crypto-details__top__header__symbol\">(${this._data.symbol.toUpperCase()})</span>\r\n        <img src = \"${favicon}\" class=\"crypto-details__top__header__${this._data.bookmark ? \"fav-enabled btn-fav\" : \"fav-disabled btn-fav\"}\"/>\r\n        </div>\r\n        <div class=\"crypto-details__top__price\">        \r\n          <span class=\"crypto-details__top__price__value\">${largeNumFormater.format(\r\n            this._data.price\r\n          )}</span>\r\n          <span class=\"crypto-details__top__price__perc${percClass}\">(${\r\n      this._data.priceChangePerc > 0\r\n        ? [\"+\", this._data.priceChangePerc.toFixed(2)].join(\"\")\r\n        : this._data.priceChangePerc.toFixed(2)\r\n    }%)</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"crypto-details__bottom\">\r\n        <li class=\"crypto-details__bottom__fixed\">ATH</li>\r\n        <li class=\"crypto-details__bottom__data\">$${this._data.ath} </li>\r\n\r\n        ${\r\n          this._data.fromAthPerc < 0\r\n            ? `<li class =\"crypto-details__bottom__fixed\">From ATH</li> `\r\n            : \"\"\r\n        }\r\n        ${\r\n          this._data.fromAthPerc < 0\r\n            ? `<li class=\"crypto-details__bottom__data\">${this._data.fromAthPerc.toFixed(\r\n                2\r\n              )}%</li> `\r\n            : \"\"\r\n        }\r\n       \r\n        <li class=\"crypto-details__bottom__fixed\">Market Cap</li>\r\n        <li class=\"crypto-details__bottom__data\">${largeNumFormater.format(\r\n          this._data.marketCap\r\n        )} (#${this._data.rank})</li>\r\n        \r\n        <li class=\"crypto-details__bottom__fixed\">Volume 24h</li>\r\n        <li class=\"crypto-details__bottom__data\">${largeNumFormater.format(\r\n          this._data.volume24h\r\n        )}</li>\r\n        \r\n        <li class=\"crypto-details__bottom__fixed\">Circ. supply</li>\r\n        <li class=\"crypto-details__bottom__data\">${\r\n          this._data.circulatingSupply\r\n        }</li>\r\n        \r\n        <li class=\"crypto-details__bottom__fixed\">Total supply</li>\r\n        <li class=\"crypto-details__bottom__data\">${\r\n          this._data.totalSupply ? this._data.totalSupply : \"-\"\r\n        }</li>\r\n       \r\n    </div>\r\n    `;\r\n  }\r\n}\r\n\r\nexport default new DetailView();\r\n","import View from \"./view\";\r\n\r\nclass PaginationView extends View {\r\n  _parentEl = document.querySelector(\".pagination\");\r\n\r\n  addHandlerPageChange(handler) {\r\n    this._parentEl.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\".btn--inline\");\r\n\r\n      if (!btn) return;\r\n\r\n      console.log(btn);\r\n      console.log(btn.dataset.goto);\r\n      const goToPage = +btn.dataset.goto;\r\n\r\n      handler(goToPage);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    const curPage = this._data.currentPage;\r\n    const totalPages = Math.ceil(\r\n      this._data.cryptoInfo.length / this._data.resultsPerPage\r\n    );\r\n    console.log(curPage);\r\n    console.log(totalPages);\r\n    if (curPage === 1 && totalPages > 1)\r\n      return `\r\n    <button data-goto=\"${\r\n      curPage + 1\r\n    }\" class=\"btn--inline  pagination__btn--next\">\r\n    <span>Page ${curPage + 1}</span>\r\n \r\n  </button> \r\n    `;\r\n\r\n    if (totalPages > 1 && curPage === totalPages)\r\n      return `\r\n    <button data-goto=\"${\r\n      curPage - 1\r\n    }\" class=\"btn--inline  pagination__btn--prev\">\r\n            <span>Page${curPage - 1}</span>\r\n          </button>\r\n    `;\r\n\r\n    if (curPage < totalPages)\r\n      return `\r\n        <button data-goto=\"${\r\n          curPage - 1\r\n        }\" class=\"btn--inline  pagination__btn--prev\">\r\n         \r\n            <span>Page ${curPage - 1}</span>\r\n          </button>\r\n\r\n          <button data-goto=\"${\r\n            curPage + 1\r\n          }\" class=\"btn--inline  pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n    \r\n          </button> \r\n    `;\r\n\r\n    return ``;\r\n  }\r\n}\r\n\r\nexport default new PaginationView();\r\n","class SearchView {\r\n  _parentElement = document.querySelector(\".search\");\r\n\r\n  getQuery() {\r\n    const input = this._parentElement.querySelector(\".search__field\").value;\r\n    this._clearInput();\r\n    return input;\r\n  }\r\n\r\n  addHandlerSearch(handler) {\r\n    this._parentElement.addEventListener(\"submit\", function (e) {\r\n      e.preventDefault();\r\n      handler();\r\n    });\r\n  }\r\n\r\n  _clearInput() {\r\n    this._parentElement.querySelector(\".search__field\").value = \"\";\r\n  }\r\n}\r\n\r\nexport default new SearchView();\r\n","import * as model from \"./model\";\r\nimport cryptoListView from \"./views/cryptoListView\";\r\nimport detailView from \"./views/detailView\";\r\nimport paginationView from \"./views/paginationView\";\r\nimport searchView from \"./views/searchView\";\r\n\r\n// const timeout = function (s) {\r\n//   return new Promise(function (_, reject) {\r\n//     setTimeout(function () {\r\n//       reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n//     }, s * 1000);\r\n//   });\r\n// };\r\n\r\nconst controlList = async function () {\r\n  try {\r\n    cryptoListView.renderSpinner();\r\n\r\n    await model.fetchCryptoInfo();\r\n\r\n    cryptoListView.render(model.getCryptoPage());\r\n    paginationView.render(model.state.search);\r\n\r\n    console.log(model.state.activeCoin);\r\n    detailView.render(model.state.activeCoin);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst controlDetails = function () {\r\n  const id = window.location.hash.slice(1);\r\n\r\n  model.loadCoinDetails(id);\r\n  detailView.render(model.state.activeCoin);\r\n  \r\n};\r\n\r\nconst goToPage = function (page) {\r\n  cryptoListView.render(model.getCryptoPage(page));\r\n  paginationView.render(model.state.search);\r\n};\r\n\r\nconst controlSearch = async function () {\r\n  try {\r\n    detailView.renderSpinner();\r\n\r\n    const query = searchView.getQuery();\r\n\r\n    await model.searchCrypto(query);\r\n\r\n    console.log(model.state.activeCoin);\r\n    detailView.render(model.state.activeCoin);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst controlFavorite = function (){\r\n  model.addFavorite();\r\n  detailView.render(model.state.activeCoin);\r\n}\r\n\r\n\r\nconst init = function () {\r\n  detailView.addHandlerDetails(controlDetails);\r\n  detailView.addHandlerAddFavorite(controlFavorite);\r\n  paginationView.addHandlerPageChange(goToPage);\r\n  searchView.addHandlerSearch(controlSearch);\r\n};\r\n\r\ncontrolList();\r\ninit();\r\n\r\nmodel.searchCrypto(\"ethereum\");\r\n"]}