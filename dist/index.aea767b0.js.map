{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e693a8d02784bea0.js","src/js/helpers.js","src/js/model.js","src/js/config.js","node_modules/@parcel/runtime-js/lib/runtime-644f02e9c3f5eee3.js","src/js/views/view.js","src/js/views/cryptoListView.js","node_modules/@parcel/runtime-js/lib/runtime-065695ea9fc94d4f.js","src/js/views/detailView.js","src/js/views/paginationView.js","src/js/views/searchView.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9fpV\\\":\\\"index.aea767b0.js\\\",\\\"hfd23\\\":\\\"icons.c14567a0.svg\\\",\\\"3FECK\\\":\\\"coinStar.7ba2e6f8.png\\\"}\"));","export const getJSON = async function (url) {\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n\n    return data;\n  } catch (err) {\n    throw err;\n  }\n};\n","import { getJSON } from \"../js/helpers\";\nimport { API_BASE_URL, API_100_LARGEST_URL, RESULTS_PER_PAGE } from \"./config\";\n\nexport const state = {\n  search: {\n    cryptoInfo: [],\n    resultsPerPage: RESULTS_PER_PAGE,\n    currentPage: 1,\n  },\n  activeCoin: {},\n  favorites: []\n};\n\nexport const fetchCryptoInfo = async function () {\n  try {\n    const data = await getJSON(`${API_BASE_URL}${API_100_LARGEST_URL}`);\n\n    state.search.cryptoInfo = data.map((coin) => ({\n      id: coin.id,\n      symbol: coin.symbol,\n      marketCap: coin.market_cap,\n      img: coin.image,\n      name: coin.name,\n      price: coin.current_price,\n      priceChangePerc: coin.price_change_percentage_24h,\n      volume24h: coin.total_volume,\n      rank: coin.market_cap_rank,\n      circulatingSupply: coin.circulating_supply,\n      totalSupply: coin.max_supply,\n      ath: coin.ath,\n      fromAthPerc: coin.ath_change_percentage,\n    }));\n  \n  } catch (err) {\n    console.log(err);\n    throw err;\n  }\n};\n\nexport const loadCoinDetails = function (id) {\n \n  const temp  = state.search.cryptoInfo.find(\n    (coin) => coin.id === id\n  );\n\n  console.log(temp)\n state.activeCoin = temp\n \n};\n\nexport const getCryptoPage = function (page = state.search.currentPage) {\n  state.search.currentPage = page;\n\n  const first = (page - 1) * state.search.resultsPerPage;\n  const last = page * state.search.resultsPerPage;\n\n  return state.search.cryptoInfo.slice(first, last);\n};\n\nexport const searchCrypto = async function (query) {\n  try {\n    const coin = await getJSON(`${API_BASE_URL}coins/${query}`);\n  \n    state.activeCoin = {\n      id: coin.id,\n      symbol: coin.symbol,\n      marketCap: coin.market_data.market_cap.usd,\n      img: coin.image.large,\n      name: coin.name,\n      price: coin.market_data.current_price.usd,\n      priceChangePerc: coin.market_data.price_change_percentage_24h,\n      volume24h: coin.market_data.total_volume.usd,\n      rank: coin.market_cap_rank,\n      circulatingSupply: coin.market_data.circulating_supply,\n      totalSupply: coin.market_data.max_supply,\n      ath: coin.market_data.ath.usd,\n      fromAthPerc: coin.market_data.ath_change_percentage.usd,\n      bookmark: false\n    };\n\n  } catch (err) {\n    console.log(err);\n    throw err;\n  }\n\n\n\n};\n\nexport const addFavorite = function(){\n  \n  if(!state.activeCoin.bookmark)  state.favorites.push(state.activeCoin);\n\n  if(state.activeCoin.bookmark) {\n      const i = state.favorites.findIndex(el => el.id === state.activeCoin.id)\n      state.favorites.splice(i,1);\n  }\n\n\n  state.activeCoin.bookmark = !state.activeCoin.bookmark\n\n}","export const API_100_LARGEST_URL =\n  \"coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=false'\";\nexport const API_BASE_URL = \"https://api.coingecko.com/api/v3/\";\nexport const RESULTS_PER_PAGE = 10;\n\n// export const API_BASE_URL = \"https://api.binance.com\";\n// export const API_AVG_PRICE_URL = \"/api/v3/ticker/24hr\";\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hfd23\")).toString();","import icons from \"../../img/icons.svg\";\n\nexport default class View {\n  _data;\n\n  render(data) {\n    if (!data || (Array.isArray(data) && data.length === 0))\n      return this.renderError();\n\n    this._data = data;\n    const markup = this._generateMarkup();\n    this._clear();\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n  }\n  _clear() {\n    this._parentEl.innerHTML = \"\";\n  }\n\n  renderError() {\n    const markup = `<div class=\"error\">\n                      <p>${this._errorMessage}</p>\n                    </div>`;\n\n    this._clear();\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n  }\n\n  renderSpinner() {\n    const markup = `<div class=\"spinner\">\n                    <svg>\n                    <use href=\"${icons}#icon-loader\"></use>\n                    </svg>\n                    </div>`;\n\n    this._clear();\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n  }\n}\n","import View from \"./view\";\n\nclass CryptoListView extends View {\n  _parentEl = document.querySelector(\".results\");\n  _errorMessage =\n    \"Could not match any coin/token to your search... Please try with a different query!\";\n\n  _generateMarkup() {\n    return [\n      `<li class=\"preview\">\n    <div class=\"preview__data\">\n        <div class=\"preview__rank \">Rank</div>\n      \n        <h4 class=\"preview__name preview__head-coin\">Coin/Token</h4>\n       \n        <p class=\"preview__price preview__head-price\">Price</p>\n\n    </div>\n    </a>\n </li>`,\n      this._data\n        .map((d) => {\n          return `<li class=\"preview\">\n      <a class=\"preview__link preview__link--active\" href=\"#${d.id}\">\n      <div class=\"preview__data\">\n          <div class=\"preview__rank\">${d.rank}</div>\n          <div class=\"preview__title\"> \n            <img class=\"preview__img\" src=\"${d.img}\"/>\n            <h4 class=\"preview__name\">${d.name}</h4>\n            <h2 class=\"preview__symbol\">(${d.symbol.toUpperCase()})</h2>\n          </div>\n          <p class=\"preview__price\">$${d.price}</p>\n\n      </div>\n      </a>\n   </li>`;\n        })\n        .join(\"\"),\n    ].join(\"\");\n  }\n}\n// <img src=./node_modules/cryptocurrency-icons/svg/white/aave.svg/>${d.symbol.toLowerCase()}\"/>\nexport default new CryptoListView();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3FECK\")).toString();","import View from \"./view\";\nimport favicon from \"../../img/coinStar.png\"\n\nclass DetailView extends View {\n  _parentEl = document.querySelector(\".details\");\n  _errorMessage = \"Did not find details for this item :(\";\n\n  loadCoinDetails(data) {\n    console.log(data);\n    this._data = data;\n  }\n\n  addHandlerDetails(handler) {\n    [\"hashchange\", \"load\"].forEach((ev) =>\n      window.addEventListener(ev, handler)\n    );\n  }\n\n  addHandlerAddFavorite(handler) {\n    this._parentEl.addEventListener(\"click\", e =>{\n      const btn = e.target.closest('.btn-fav')\n\n      if(!btn) return\n\n      btn.classList.add(\"bounce\")\n      handler();\n    })\n  }\n\n\n  _generateMarkup() {\n    const percClass = this._data.priceChangePerc > 0 ? \"--g\" : \"--r\";\n\n    const largeNumFormater = new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n      minimumFractionDigits: 0,\n    });\n\n    return `\n    <div class=\"crypto-details__top\">\n        <div class=\"crypto-details__top__header\">\n        <img src=\"${this._data.img}\" class=\"crypto-details__top__header__img\"/>\n        <span class=\"crypto-details__top__header__name\">${\n          this._data.name\n        } </span>\n        <span class=\"crypto-details__top__header__symbol\">(${this._data.symbol.toUpperCase()})</span>\n        <img src = \"${favicon}\" class=\"crypto-details__top__header__${this._data.bookmark ? \"fav-enabled btn-fav\" : \"fav-disabled btn-fav\"}\"/>\n        </div>\n        <div class=\"crypto-details__top__price\">        \n          <span class=\"crypto-details__top__price__value\">${largeNumFormater.format(\n            this._data.price\n          )}</span>\n          <span class=\"crypto-details__top__price__perc${percClass}\">(${\n      this._data.priceChangePerc > 0\n        ? [\"+\", this._data.priceChangePerc.toFixed(2)].join(\"\")\n        : this._data.priceChangePerc.toFixed(2)\n    }%)</span>\n        </div>\n    </div>\n    <div class=\"crypto-details__bottom\">\n        <li class=\"crypto-details__bottom__fixed\">ATH</li>\n        <li class=\"crypto-details__bottom__data\">$${this._data.ath} </li>\n\n        ${\n          this._data.fromAthPerc < 0\n            ? `<li class =\"crypto-details__bottom__fixed\">From ATH</li> `\n            : \"\"\n        }\n        ${\n          this._data.fromAthPerc < 0\n            ? `<li class=\"crypto-details__bottom__data\">${this._data.fromAthPerc.toFixed(\n                2\n              )}%</li> `\n            : \"\"\n        }\n       \n        <li class=\"crypto-details__bottom__fixed\">Market Cap</li>\n        <li class=\"crypto-details__bottom__data\">${largeNumFormater.format(\n          this._data.marketCap\n        )} (#${this._data.rank})</li>\n        \n        <li class=\"crypto-details__bottom__fixed\">Volume 24h</li>\n        <li class=\"crypto-details__bottom__data\">${largeNumFormater.format(\n          this._data.volume24h\n        )}</li>\n        \n        <li class=\"crypto-details__bottom__fixed\">Circ. supply</li>\n        <li class=\"crypto-details__bottom__data\">${\n          this._data.circulatingSupply\n        }</li>\n        \n        <li class=\"crypto-details__bottom__fixed\">Total supply</li>\n        <li class=\"crypto-details__bottom__data\">${\n          this._data.totalSupply ? this._data.totalSupply : \"-\"\n        }</li>\n       \n    </div>\n    `;\n  }\n}\n\nexport default new DetailView();\n","import View from \"./view\";\n\nclass PaginationView extends View {\n  _parentEl = document.querySelector(\".pagination\");\n\n  addHandlerPageChange(handler) {\n    this._parentEl.addEventListener(\"click\", (e) => {\n      const btn = e.target.closest(\".btn--inline\");\n\n      if (!btn) return;\n\n      const goToPage = +btn.dataset.goto;\n\n      handler(goToPage);\n    });\n  }\n\n  _generateMarkup() {\n    const curPage = this._data.currentPage;\n    const totalPages = Math.ceil(\n      this._data.cryptoInfo.length / this._data.resultsPerPage\n    );\n   \n    if (curPage === 1 && totalPages > 1)\n      return `\n    <button data-goto=\"${\n      curPage + 1\n    }\" class=\"btn--inline  pagination__btn--next\">\n    <span>Page ${curPage + 1}</span>\n \n  </button> \n    `;\n\n    if (totalPages > 1 && curPage === totalPages)\n      return `\n    <button data-goto=\"${\n      curPage - 1\n    }\" class=\"btn--inline  pagination__btn--prev\">\n            <span>Page${curPage - 1}</span>\n          </button>\n    `;\n\n    if (curPage < totalPages)\n      return `\n        <button data-goto=\"${\n          curPage - 1\n        }\" class=\"btn--inline  pagination__btn--prev\">\n         \n            <span>Page ${curPage - 1}</span>\n          </button>\n\n          <button data-goto=\"${\n            curPage + 1\n          }\" class=\"btn--inline  pagination__btn--next\">\n            <span>Page ${curPage + 1}</span>\n    \n          </button> \n    `;\n\n    return ``;\n  }\n}\n\nexport default new PaginationView();\n","class SearchView {\n  _parentElement = document.querySelector(\".search\");\n\n  getQuery() {\n    const input = this._parentElement.querySelector(\".search__field\").value;\n    this._clearInput();\n    return input;\n  }\n\n  addHandlerSearch(handler) {\n    this._parentElement.addEventListener(\"submit\", function (e) {\n      e.preventDefault();\n      handler();\n    });\n  }\n\n  _clearInput() {\n    this._parentElement.querySelector(\".search__field\").value = \"\";\n  }\n}\n\nexport default new SearchView();\n","import * as model from \"./model\";\nimport cryptoListView from \"./views/cryptoListView\";\nimport detailView from \"./views/detailView\";\nimport paginationView from \"./views/paginationView\";\nimport searchView from \"./views/searchView\";\n\n// const timeout = function (s) {\n//   return new Promise(function (_, reject) {\n//     setTimeout(function () {\n//       reject(new Error(`Request took too long! Timeout after ${s} second`));\n//     }, s * 1000);\n//   });\n// };\n\nconst controlList = async function () {\n  try {\n    cryptoListView.renderSpinner();\n\n    await model.fetchCryptoInfo();\n\n    cryptoListView.render(model.getCryptoPage());\n    paginationView.render(model.state.search);\n\n    controlDetails();\n    detailView.render(model.state.activeCoin);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst controlDetails = function () {\n  const id = window.location.hash.slice(1);\n  \n  model.loadCoinDetails(id);\n\n  detailView.render(model.state.activeCoin);\n  \n};\n\nconst goToPage = function (page) {\n  cryptoListView.render(model.getCryptoPage(page));\n  paginationView.render(model.state.search);\n};\n\nconst controlSearch = async function () {\n  try {\n    detailView.renderSpinner();\n\n    const query = searchView.getQuery();\n\n    await model.searchCrypto(query);\n\n    console.log(model.state.activeCoin);\n    detailView.render(model.state.activeCoin);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst controlFavorite = function (){\n  model.addFavorite();\n  detailView.render(model.state.activeCoin);\n}\n\n\nconst init = function () {\n  detailView.addHandlerDetails(controlDetails);\n  detailView.addHandlerAddFavorite(controlFavorite);\n  paginationView.addHandlerPageChange(goToPage);\n  searchView.addHandlerSearch(controlSearch);\n};\n\ncontrolList();\ninit();\n\n\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$bd02c871d9c5ba8e$export$d047a7c56db64af4","async","url","res","fetch","data","json","ok","message","status","err","$0f1d4402dffacf5b$export$ca000e230c0caa3e","search","cryptoInfo","resultsPerPage","currentPage","activeCoin","favorites","$0f1d4402dffacf5b$export$d5e0eddada9bb997","page","first","last","slice","$cb59c201e168fdfe$exports","URL","resolve","import","meta","toString","$b2d7157267813d3a$export$2e2bcd8739ae039","_data","render","Array","isArray","this","renderError","markup","_generateMarkup","_clear","_parentEl","insertAdjacentHTML","innerHTML","_errorMessage","renderSpinner","$parcel$interopDefault","$3ae2fb345e6b040d$export$2e2bcd8739ae039","document","querySelector","map","d","rank","img","name","symbol","toUpperCase","price","join","$bf1b8a0571eec541$exports","$39bc337cf97f7fdd$export$2e2bcd8739ae039","loadCoinDetails","console","log","addHandlerDetails","handler","forEach","ev","window","addEventListener","addHandlerAddFavorite","e","btn","target","closest","classList","add","percClass","priceChangePerc","largeNumFormater","Intl","NumberFormat","style","currency","minimumFractionDigits","bookmark","format","toFixed","ath","fromAthPerc","marketCap","volume24h","circulatingSupply","totalSupply","$cfa940594ee109f7$export$2e2bcd8739ae039","addHandlerPageChange","goToPage","dataset","goto","curPage","totalPages","Math","ceil","$813cf99795e9ec97$export$2e2bcd8739ae039","_parentElement","getQuery","input","value","_clearInput","addHandlerSearch","preventDefault","$f50bd1f2915ed0f2$var$controlDetails","temp","find","coin","$0f1d4402dffacf5b$export$e2b939265a9d2985","location","hash","$f50bd1f2915ed0f2$var$goToPage","$f50bd1f2915ed0f2$var$controlSearch","query","market_data","market_cap","usd","image","large","current_price","price_change_percentage_24h","total_volume","market_cap_rank","circulating_supply","max_supply","ath_change_percentage","$0f1d4402dffacf5b$export$868b9941716469d","$f50bd1f2915ed0f2$var$controlFavorite","push","findIndex","el","splice","$0f1d4402dffacf5b$export$aa03d8c0f74def9f","$0f1d4402dffacf5b$export$394811a7ef8994e6","$f50bd1f2915ed0f2$var$controlList"],"version":3,"file":"index.aea767b0.js.map"}